<tt-search-group [search_columns]="search_columns" [(ngModel)]="search_params" (onSearch)="search()"></tt-search-group>
<at-table>
  <thead at-thead>
  <tr>
    <th *ngFor="let item of columns" at-th style="cursor: text;">
      <tt-i18n [t]="'Model.'+ Model+'.'+item.name"></tt-i18n>
    </th>
    <th at-th>操作</th>
  </tr>
  </thead>
  <tbody at-tbody>
  <tr at-tbody-tr *ngFor="let item of datas"><!---->
    <td at-td *ngFor="let column of columns">
      <ng-container *ngIf="column.resource_key">
        <a
          [routerLink]="'/dashboard/'+column.resource +'/' + (item | nestedJsonKey : column.resource_key)">
          {{item | nestedJsonKey : column.key}}</a>
      </ng-container>
      <ng-container *ngIf="!column.resource_key">
        {{item | nestedJsonKey : column.key}}
      </ng-container>
    </td>
    <td at-td>
      <a [routerLink]="'/dashboard/'+resource +'/' + item.id">
        <m-i18n [t]="'Model.Handle.edit'"></m-i18n>
      </a>
      <at-divider [vertical]="true"></at-divider>
      <a (click)="delete(resource,model,item.id)">
        <m-i18n [t]="'Model.Handle.delete'"></m-i18n>
      </a>
    </td>
  </tr>

  </tbody>
  <div footer>
    <mb-empty-data [data]="datas"></mb-empty-data>
    <div class="page-container">
      <at-pagination [atPageSizer]="true" (pageSizeChange)="pageSizeChange($event)" [pageSize]="per"
                     [atQuickJump]="true"
                     [atPageIndex]="page"
                     [total]="total_count"
                     (pageIndexChange)="pageChange($event)"></at-pagination>
    </div>
  </div>
</at-table>
